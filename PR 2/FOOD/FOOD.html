<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="IMG/banner.jpg">
    <title>FOOD RESTAURANT</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            background-color: pink;
            margin: 0;
            padding: 0;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            background:#d4006e;
            padding: 20px;
            gap: 20px;
        }
        .header img {
            width: 120px;
            border-radius: 10px;
        }
        .header h1 {
            font-size: 40px;
            color: #ffccf9;
            margin: 0;
        }
        .products {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 20px auto;
            gap: 20px;
        }
        .product {
            border: 1px solid #ccc; 
            padding: 10px; 
            width: 200px; 
            text-align: center; 
            background: #ffff;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
        }
        .product img {
            width: 100%;
            height: 130px;
            object-fit: cover;
            border-radius: 8px;
        }
        .product button {
            margin-top: 10px;
            padding: 8px 12px;
            background: #d4006e;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .product button:hover {
            background: #a30053;
        }
        table { 
            margin: 20px auto; 
            border-collapse: collapse; 
            width: 80%; 
        }
        th, td { 
            border: 1px solid #000; 
            padding: 10px; 
            text-align: center; 
        }
        th {
            background-color: #f2f2f2;
        }
        tfoot td { 
            font-weight: bold; 
            background: #f9f9f9; 
        }
        input.qty {
            width: 50px;
            text-align: center;
        }
        .remove-btn {
            background: red;
            color: white;
            border: none;
            padding: 6px 10px;
            cursor: pointer;
            border-radius: 4px;
        }
        .remove-btn:hover {
            background: darkred;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>FOOD SHOP</h1>
        <img src="IMG/banner.jpg" alt="banner">
    </div>

    <div class="products">
        <div class="product">
            <img src="IMG/burger.jpg" alt="burger">
            <h3>Burger</h3>
            <p>₹99</p>
            <button onclick="addToCart('Burger', 99)">Add to Cart</button>
        </div>
        <div class="product">
            <img src="IMG/pizza.jpeg" alt="pizza">
            <h3>Pizza</h3>
            <p>₹199</p>
            <button onclick="addToCart('Pizza', 199)">Add to Cart</button>
        </div>
        <div class="product">
            <img src="IMG/fries.jpeg" alt="fries">
            <h3>Fries</h3>
            <p>₹79</p>
            <button onclick="addToCart('Fries', 79)">Add to Cart</button>
        </div>
        <div class="product">
            <img src="IMG/frankie.jpeg" alt="frankie">
            <h3>Frankie</h3>
            <p>₹60</p>
            <button onclick="addToCart('Frankie', 60)">Add to Cart</button>
        </div>
        <div class="product">
            <img src="IMG/handvo.jpeg" alt="handvo">
            <h3>Handvo</h3>
            <p>₹149</p>
            <button onclick="addToCart('Handvo', 149)">Add to Cart</button>
        </div>
    </div>

    <table border="4" id="billTable" style="display:none;">
        <thead>
            <tr>
                <th>Item</th>
                <th>Price (₹)</th>
                <th>Quantity</th>
                <th>Total (₹)</th>
                <th>Discount (₹)</th>
                <th>Pay (₹)</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="cart-body"></tbody>
        <tfoot>
            <tr>
                <td colspan="3">TOTAL PAYOUT</td>
                <td id="grandTotal">0</td>
                <td id="grandDiscount">0</td>
                <td id="grandPay">0</td>
                <td></td>
            </tr>
        </tfoot>
    </table>

    <script>
        var cart = [];

        function addToCart(itemName, price) {
            const existingItem = cart.find(item => item.name === itemName);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ name: itemName, price: price, quantity: 1 });
            }
            displayCart();
        }

        function calculateDiscount(total) {
            return total >= 200 ? total * 0.1 : 0;
        }

        function updateQuantity(index, newQty) {
            if (newQty < 1) newQty = 1; // Minimum quantity 1
            cart[index].quantity = parseInt(newQty);
            displayCart();
        }

        function removeItem(index) {
            cart.splice(index, 1);
            displayCart();
        }

        function displayCart() {
            const table = document.getElementById("billTable");
            const cartBody = document.getElementById("cart-body");
            cartBody.innerHTML = "";

            var grandTotal = 0, grandDiscount = 0, grandPay = 0;
            if (cart.length > 0) {
                table.style.display = "table";
            } else {
                table.style.display = "none";
            }

            cart.forEach((item, index) => {
                const total = item.price * item.quantity;
                const discount = calculateDiscount(total);
                const pay = total - discount;

                grandTotal += total;
                grandDiscount += discount;
                grandPay += pay;

                cartBody.innerHTML += `
                    <tr>
                        <td>${item.name}</td>
                        <td>${item.price}</td>
                        <td>
                            <input type="number" class="qty" value="${item.quantity}" 
                            onchange="updateQuantity(${index}, this.value)">
                        </td>
                        <td>${total}</td>
                        <td>${discount.toFixed(2)}</td>
                        <td>${pay.toFixed(2)}</td>
                        <td><button class="remove-btn" onclick="removeItem(${index})">Remove</button></td>
                    </tr>
                `;
            });

            document.getElementById("grandTotal").innerText = grandTotal.toFixed(2);
            document.getElementById("grandDiscount").innerText = grandDiscount.toFixed(2);
            document.getElementById("grandPay").innerText = grandPay.toFixed(2);
        }
    </script>
</body>
</html>
